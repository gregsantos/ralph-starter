# ═══════════════════════════════════════════════════════════════════════════════
# Ralph Loop Configuration
# ═══════════════════════════════════════════════════════════════════════════════
#
# Configuration precedence (highest to lowest):
#   1. CLI flags (e.g., --model sonnet)
#   2. Environment variables (e.g., RALPH_MODEL=sonnet)
#   3. Project config (./ralph.conf - this file)
#   4. Global config (~/.ralph/config)
#   5. Built-in defaults
#
# This file is parsed safely - no shell command execution for security.
# Only KEY=VALUE pairs are accepted. Shell expansion (${}, $(), ``) is rejected.
#
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# Path Configuration
# ─────────────────────────────────────────────────────────────────────────────
# These paths are used as template variables in prompt files:
#   {{SPEC_FILE}}          - Feature specification (the "what & why")
#   {{PLAN_FILE}}          - Implementation checklist (the "how")
#   {{ARTIFACT_SPEC_FILE}} - Product artifact specification
#   {{PROGRESS_FILE}}      - Iteration history log
#   {{SOURCE_DIR}}         - Source code location

SPEC_FILE=./specs/IMPLEMENTATION_PLAN.md
PLAN_FILE=./plans/IMPLEMENTATION_PLAN.md
ARTIFACT_SPEC_FILE=./docs/PRODUCT_ARTIFACT_SPEC.md
PROGRESS_FILE=progress.txt
SOURCE_DIR=src/*

# Product Mode paths (only used with 'product' preset)
# PRODUCT_CONTEXT_DIR=./product-input/
# PRODUCT_OUTPUT_DIR=./product-output/

# ─────────────────────────────────────────────────────────────────────────────
# Execution Settings
# ─────────────────────────────────────────────────────────────────────────────
# MODEL: opus (most capable), sonnet (balanced), haiku (fastest)
# MODEL=opus

# MAX_ITERATIONS: Number of iterations before stopping (default: 10)
# Use --unlimited flag to remove limit (not configurable here for safety)
# MAX_ITERATIONS=10

# PUSH_ENABLED: true to push after each iteration, false to keep local
# PUSH_ENABLED=true

# ─────────────────────────────────────────────────────────────────────────────
# Logging Settings
# ─────────────────────────────────────────────────────────────────────────────
# LOG_DIR: Directory for session logs (default: ~/.ralph/logs/)
# Logs are named: {mode}_{branch}_{timestamp}.log
# A 'latest.log' symlink points to the current session
# LOG_DIR=~/.ralph/logs

# LOG_FORMAT: Output format for log files
#   text - Human-readable format (default)
#   json - Structured JSON for log aggregation (ELK, Datadog, etc.)
# Terminal output remains human-readable regardless of this setting
# LOG_FORMAT=text

# ─────────────────────────────────────────────────────────────────────────────
# Notifications
# ─────────────────────────────────────────────────────────────────────────────
# NOTIFY_WEBHOOK: URL to POST session events (complete/failed/interrupted)
# Supports: Slack webhooks, Discord webhooks, custom endpoints
# Basic auth via URL: https://user:pass@example.com/webhook
# 10-second timeout, non-blocking (failures don't stop cleanup)
#
# Examples:
#   NOTIFY_WEBHOOK=https://hooks.slack.com/services/T00/B00/xxx
#   NOTIFY_WEBHOOK=https://discord.com/api/webhooks/xxx/yyy
#   NOTIFY_WEBHOOK=https://api:secret@monitoring.example.com/ralph
# NOTIFY_WEBHOOK=
